<!--
  #%L
  com.mobi.web
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 - 2019 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<div class="commits-tab h-100 row m-0">
    <div class="col-10 offset-1 d-flex flex-column p-2 h-100">
        <div class="section-header">
            <h5>Commits</h5>
        </div>
        <div class="flex-1 vertical-scroll d-flex">
            <commit-history-table class="flex-1" commit-id="dvm.os.listItem.ontologyRecord.commitId" head-title="dvm.getHeadTitle()" receive-commits="dvm.commits = commits" entity-name-func="dvm.os.getEntityNameByListItem" graph></commit-history-table>
            <div class="view-table" ng-if="dvm.commits.length">
                <table class="table">
                    <thead>
                        <tr>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="commit in dvm.commits track by commit.id">
                            <td class="p-0 align-middle">
                                <button type="button" class="btn btn-flat-primary remove-min-width" ng-click="dvm.openOntologyAtCommit(commit)" ng-disabled="dvm.os.hasChanges(dvm.os.listItem) || dvm.os.isCommittable(dvm.os.listItem)">View</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>