<!--
  #%L
  com.mobi.web
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 - 2022 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<div class="commit-changes-display">
    <div class="changes flex-1 px-1 vertical-scroll">
        <mat-accordion *ngFor="let changesItem of changesItems">
            <mat-expansion-panel class="my-2">
                <mat-expansion-panel-header>
                    <mat-panel-title class="col-4 remove-min-width text-truncate" title="{{changesItem.entityName}}">
                        <div class="text-truncate">{{changesItem.entityName}}</div>
                    </mat-panel-title>
                    <mat-panel-description class="remove-min-width text-truncate" title="{{changesItem.id}}">
                        <small class="text-truncate">{{changesItem.id}}</small> 
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                    <statement-container *ngIf="changesItem.additions.length" additions>
                        <statement-display *ngFor="let addition of changesItem.additions" [predicate]="addition.p" [object]="addition.o" [entityNameFunc]="getEntityName.bind(this)"></statement-display>
                    </statement-container>
                    <statement-container *ngIf="changesItem.deletions.length" deletions>
                        <statement-display *ngFor="let deletion of changesItem.deletions" [predicate]="deletion.p" [object]="deletion.o" [entityNameFunc]="getEntityName.bind(this)"></statement-display>
                    </statement-container>
                </ng-template>
            </mat-expansion-panel>
        </mat-accordion>
        <div class="text-center">
            <a *ngIf="hasMoreResults" (click)="loadMore()"><i class="fa fa-fw fa-plus"></i><span>Load More</span></a>
        </div>
    </div>
</div>
