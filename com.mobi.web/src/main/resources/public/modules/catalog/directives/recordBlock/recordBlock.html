<!--
  #%L
  com.mobi.web
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<div class="record-block col">
    <block>
        <block-header>
            <catalog-breadcrumb></catalog-breadcrumb>
        </block-header>
        <block-content class="padding">
            <h3 class="entity-title">{{dvm.util.getDctermsValue(dvm.record, 'title')}}</h3>
            <record-types record="dvm.record"></record-types>
            <entity-dates entity="dvm.record"></entity-dates>
            <entity-publisher entity="dvm.record"></entity-publisher>
            <entity-description entity="dvm.record"></entity-description>
            <record-keywords record="dvm.record"></record-keywords>

            <div ng-if="dvm.cm.isVersionedRDFRecord(dvm.record)" class="branches-container">
                <span class="field-name">Branches:</span>
                <pagination-header list-key="'branches'" change-sort="dvm.changeSort()"></pagination-header>
                <div class="branches-list list-group">
                    <button ng-repeat="branch in dvm.state.results" class="branch list-group-item" ng-click="dvm.openBranch(branch)">
                        <h3>{{dvm.util.getDctermsValue(branch, 'title')}}</h3>
                        <entity-dates entity="branch"></entity-dates>
                        <entity-publisher entity="branch"></entity-publisher>
                        <entity-description entity="branch" limited></entity-description>
                    </button>
                </div>
            </div>
        </block-content>
        <block-footer ng-if="dvm.cm.isVersionedRDFRecord(dvm.record)">
            <catalog-pagination list-key="'branches'" get-page="dvm.getBranches()"></catalog-pagination>
        </block-footer>
    </block>
</div>