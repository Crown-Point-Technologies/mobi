<!--
  #%L
  org.matonto.web
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 - 2017 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<div class="instance-editor">
    <block>
        <block-header>
            <breadcrumbs class="pull-left"></breadcrumbs>
            <a class="pull-right link" ng-click="dvm.ds.explore.editing = false">Cancel</a>
            <a class="pull-right link" ng-click="dvm.save()"><i class="fa fa-floppy-o"></i>Save</a>
        </block-header>
        <block-content>
            <div class="row">
                <form class="col-xs-8 col-xs-offset-2">
                    <div ng-repeat="(key, value) in dvm.ds.explore.instance.entity track by $index">
                        <div ng-if="key === '@id'">
                            <static-iri iri="dvm.ds.explore.instance.entity[key]" on-edit="dvm.setIRI(iriBegin, iriThen, iriEnd)"></static-iri>
                            <info-message>Changing this IRI might mess up other relationships within the dataset.</info-message>
                        </div>
                        <div ng-if="key !== '@id' && key !== '@type'" class="form-group">
                            <custom-label ng-class="{'changed': dvm.isChanged(key)}">{{dvm.util.getBeautifulIRI(key)}}</custom-label>
                            <md-chips ng-model="dvm.ds.explore.instance.entity[key]" md-transform-chip="dvm.getValue($chip)">
                                <input type="text">
                            </md-chips>
                            <!-- <ui-select ng-if="dvm.isPropertyOfType(key, 'Object')" ng-model="dvm.ds.explore.instance.entity[key]" tagging="dvm.createIdObj" multiple on-remove="dvm.addToChanged(key)" on-select="dvm.addToChanged(key)">
                                <ui-select-match>{{$item['@id']}}</ui-select-match>
                                <ui-select-choices repeat="dvm.removeIsTag(item) as item in dvm.getOptions(key)">{{item['@id']}}</ui-select-choices>
                            </ui-select>
                            <ui-select ng-if="dvm.isPropertyOfType(key, 'Data')" ng-model="dvm.ds.explore.instance.entity[key]" tagging="dvm.createValueObj" multiple on-remove="dvm.addToChanged(key)" on-select="dvm.addToChanged(key)">
                                <ui-select-match>{{$item['@value']}}</ui-select-match>
                                <ui-select-choices repeat="dvm.addType(item, key) as item in dvm.getOptions(key)">{{item['@value']}}</ui-select-choices>
                            </ui-select> -->
                        </div>
                    </div>
                </form>
            </div>
        </block-content>
    </block>
</div>