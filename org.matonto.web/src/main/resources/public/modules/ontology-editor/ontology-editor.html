<!-- ontology-editor.html -->
<div class="ontology-editor clearfix full-height" ng-controller="OntologyEditorController as vm">
    <aside class="left-nav nav full-height">
        <ul>
            <li>
                <button ng-click="vm.save()" title="Save All Changes"
                        ng-disabled="!vm.ontology.matonto.isValid">
                    <i class="fa fa-floppy-o fa-fw"></i>
                </button>
            </li>
            <li class="separator"></li>
            <li>
                <button ng-click="vm.showOpenOverlay = true" title="Open Ontology"
                        ng-class="{ 'active': vm.showOpenOverlay === true }"
                        ng-disabled="!vm.ontologyIds.length">
                    <i class="fa fa-get-pocket fa-fw"></i>
                </button>
            </li>
            <li>
                <a ng-click="vm.showUploadOverlay = true" title="Upload Ontology"
                   ng-class="{ 'active': vm.showUploadOverlay }">
                    <i class="fa fa-upload fa-fw"></i>
                </a>
            </li>
            <li>
                <a ng-click="vm.showCreateOntologyOverlay = true" title="Create Ontology"
                   ng-class="{ 'active': vm.showCreateOntologyOverlay }">
                    <i class="fa fa-plus fa-fw"></i>
                </a>
            </li>
            <li class="separator"></li>
            <li>
                <button ng-click="vm.showCreateClassOverlay = true" title="Create Class"
                        ng-disabled="vm.state.oi === undefined || vm.state.editor === 'annotation-display'"
                        ng-class="{ 'active': vm.showCreateClassOverlay }">
                    <i class="fa fa-plus fa-fw"></i>
                </button>
            </li>
            <li>
                <button ng-click="vm.showCreatePropertyOverlay = true" title="Create Property"
                        ng-disabled="vm.state.oi === undefined || vm.state.editor === 'annotation-display'"
                        ng-class="{ 'active': vm.showCreatePropertyOverlay }">
                    <i class="fa fa-plus fa-fw"></i>
                </button>
            </li>
            <li>
                <button ng-click="vm.openDownloadOverlay()" title="Download Ontology"
                        ng-disabled="!vm.ontology.hasOwnProperty('matonto')"
                        ng-class="{ 'active': vm.showDeleteConfirmation }">
                    <i class="fa fa-download fa-fw"></i>
                </button>
            </li>
            <li>
                <button ng-click="vm.showCloseOverlay = true" title="Close Ontology"
                        ng-disabled="vm.state.oi === undefined"
                        ng-class="{ 'active': vm.showCloseOverlay }">
                    <i class="fa fa-archive fa-fw"></i>
                </button>
            </li>
            <li class="separator"></li>
            <li>
                <button ng-click="vm.showDeleteConfirmation = true" title="Delete Entity"
                        ng-disabled="!vm.selected.hasOwnProperty('matonto')"
                        ng-class="{ 'active': vm.showDeleteConfirmation }">
                    <i class="fa fa-trash-o fa-fw"></i>
                </button>
            </li>
        </ul>
    </aside>

    <div class="row full-height">
        <!-- navigation structure -->
        <section class="col-xs-4 full-height">
            <div class="tree-container boxed full-height">
                <!-- tab buttons -->
                <div class="btn-group btn-group-justified" role="group">
                    <tab-button is-active="vm.state.tab === 'everything'"
                                on-click="vm.setTreeTab('everything')">Tree</tab-button>

                    <tab-button is-active="vm.state.tab === 'class'"
                                on-click="vm.setTreeTab('class')">Class</tab-button>

                    <tab-button is-active="vm.state.tab === 'object'"
                                on-click="vm.setTreeTab('object')">Object</tab-button>

                    <tab-button is-active="vm.state.tab === 'datatype'"
                                on-click="vm.setTreeTab('datatype')">Data</tab-button>

                    <tab-button is-active="vm.state.tab === 'annotation'"
                                on-click="vm.setTreeTab('annotation')">Annotation</tab-button>
                </div>

                <everything-tree ng-if="vm.state.tab === 'everything'"></everything-tree>

                <class-tree ng-if="vm.state.tab === 'class'"></class-tree>

                <property-tree ng-if="vm.state.tab === 'object'"
                               header-text="Object Properties"
                               property-type="objectproperty"></property-tree>

                <property-tree ng-if="vm.state.tab === 'datatype'"
                               header-text="Data Properties"
                               property-type="datatypeproperty"></property-tree>

                <annotation-tree ng-if="vm.state.tab === 'annotation'"></annotation-tree>
            </div>
        </section>

        <!-- edit/create form section -->
        <section class="col-xs-8 full-height">
            <div class="editor boxed">
                <!-- default -->
                <div ng-if="vm.state.editor === 'default'" class="tab default">
                    <p class="lead">Welcome to the Ontology Editor!</p>
                    <p>Click an item in the left pane to get started. This pane will then update accordingly.</p>
                </div>

                <ontology-editor ng-if="vm.state.editor === 'ontology-editor'"></ontology-editor>

                <class-editor ng-if="vm.state.editor === 'class-editor'"></class-editor>

                <property-editor ng-if="vm.state.editor === 'property-editor'"></property-editor>

                <div ng-if="vm.state.editor === 'annotation-display'" class="annotation-preview">
                    <h3>Annotation Preview (JSON-LD)</h3>
                    <pre class="tab">{{vm.selected | json}}</pre>
                </div>

                <ontology-upload-overlay ng-if="vm.showUploadOverlay"></ontology-upload-overlay>

                <annotation-overlay ng-if="vm.showAnnotationOverlay"></annotation-overlay>

                <ontology-download-overlay ng-if="vm.showDownloadOverlay"></ontology-download-overlay>

                <confirmation-overlay ng-if="vm.showDeleteConfirmation"
                                      header-text="'Delete Ontology'"
                                      confirm-click="vm.deleteEntity()"
                                      cancel-click="vm.showDeleteConfirmation = false;"
                                      confirm-text="'Yes'"
                                      cancel-text="'No'">Are you sure that you want to delete <strong>{{vm.selected['@id']}}</strong>?</confirmation-overlay>

                <confirmation-overlay ng-if="vm.showCloseOverlay"
                                      header-text="'Close Overlay'"
                                      confirm-click="vm.closeOntology()"
                                      cancel-click="vm.showCloseOverlay = false;"
                                      confirm-text="'Yes'"
                                      cancel-text="'No'">Are you sure that you want to close <strong>{{vm.ontology['@id']}}</strong> from your workspace?</confirmation-overlay>

                <ontology-open-overlay ng-if="vm.showOpenOverlay"></ontology-open-overlay>

                <create-annotation-overlay ng-if="vm.showCreateAnnotationOverlay"></create-annotation-overlay>

                <create-ontology-overlay ng-if="vm.showCreateOntologyOverlay"></create-ontology-overlay>

                <create-class-overlay ng-if="vm.showCreateClassOverlay"></create-class-overlay>

                <create-property-overlay ng-if="vm.showCreatePropertyOverlay"></create-property-overlay>
            </div>
        </section>
    </div>
</div>
