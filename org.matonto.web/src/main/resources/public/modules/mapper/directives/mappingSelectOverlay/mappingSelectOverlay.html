<div id="mapping-select-overlay" class="overlay lg">
    <form class="content" name="mappingForm">
        <h6>Choose Mapping</h6>
        <div id="new-mapping-radio" class="form-group">
            <label>
                <input type="radio" value="new" ng-model="dvm.mappingType" ng-change="dvm.mappingName = ''"/>
                New
            </label>
            <br/>
            <label ng-if="dvm.mappingType === 'new'" ng-class="{'has-success': mappingForm.mappingName.$touched && mappingForm.mappingName.$valid, 'has-error': mappingForm.mappingName.$touched && mappingForm.mappingName.$invalid}">
                Name
                <input type="text" name="mappingName" class="form-control"
                    ng-blur="dvm.check()"
                    ng-model="dvm.mappingName" 
                    ng-required="dvm.mappingType === 'new'"/>
            </label>
            <br/>
            <div class="text-danger" ng-show="dvm.mappingType === 'new' && mappingForm.mappingName.$error.uniqueName">
                Mapping name must be unique
            </div>
        </div>
        <div id="previous-mapping-radio" class="form-group">
            <label>
                <input type="radio" value="previous" ng-model="dvm.mappingType" 
                    ng-change="dvm.mappingName = ''" ng-disabled="dvm.previousMappings.length === 0"/>
                Previous
            </label>
            </br/>
            <select class="form-control" 
                ng-if="dvm.mappingType === 'previous'" 
                ng-model="dvm.mappingName" 
                ng-required="dvm.mappingType === 'previous'">
                <option ng-repeat="mapping in dvm.previousMappings">{{mapping}}</option>
            </select>
        </div>
        
        <div class="overlay-button-container">
            <button type="button" class="btn btn-primary" ng-click="onClickBack()">Back</button>
            <custom-button display-text="'Continue'" on-click="onClickContinue({mappingType: dvm.mappingType, mappingName: dvm.mappingName})" is-disabled-when="!dvm.mappingType || ( dvm.mappingType === 'new' && mappingForm.mappingName.$invalid)"></custom-button>
        </div>
    </form>
</div>