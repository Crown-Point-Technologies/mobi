<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
  #%L
  karaf.feature
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->

<features xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" name="mobi-features">
    <feature name="mobi-deps" description="Mobi Dependency Bundles" version="${project.version}">
        <!-- Document Translation -->
        <bundle start-level="80">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jsr303-api-1.1.0/2.9.0</bundle>
        <bundle start-level="80">mvn:org.glassfish/javax.json/1.0.4</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.spring-expression/5.0.2.RELEASE_1</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.spring-core/5.0.2.RELEASE_1</bundle>

        <!-- XACML Security Dependencies -->
        <bundle start-level="80">mvn:org.wso2.balana/org.wso2.balana/1.1.3</bundle>
        <bundle start-level="80">mvn:org.wso2.balana/org.wso2.balana.utils/1.1.3</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xerces/2.9.1_5</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlresolver/1.2_5</bundle>

        <!-- VFS Dependencies -->
        <bundle start-level="80">mvn:org.lz4/lz4-java/1.4.1</bundle>

        <!-- Email Dependencies -->
        <bundle start-level="80">mvn:org.apache.commons/commons-email/1.5</bundle>
        <bundle start-level="80">mvn:com.sun.mail/javax.mail/1.5.6</bundle>
    </feature>
    <feature name="mobi-core" description="Mobi Core Platform Bundles" version="${project.version}">
        <feature prerequisite="true">mobi-deps</feature>
        <feature prerequisite="true">mobi-platform-core</feature>
        <bundle start-level="80">mvn:com.mobi/rest.util/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/etl.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/etl.delimited/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/etl.rdf/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/vfs/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/etl.workflows/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/ontology.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/ontology.core.impl.owlapi/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/ontology.utils/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/rdf.impl.sesame/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/repository.impl.core/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/repository.impl.sesame/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/catalog.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/catalog.impl/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/dataset.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/dataset.impl/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/sparql.utils/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/cache/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/cache.impl.ehcache/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/prov.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/prov.impl/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/document.translator.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/document.translator.json/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/document.translator.xml/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/security.policy.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/security.policy.api.xacml/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/security.policy.impl.core/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/security.policy.impl.xacml/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/security.policy.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/rest.security/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/email.api/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/email.impl/${project.version}</bundle>
    </feature>
    <feature name="mobi-cli" description="Mobi CLI Bundles" version="${project.version}">
        <feature prerequisite="true">mobi-core</feature>
        <bundle start-level="80">mvn:com.mobi/etl.cli/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/persistence.cli/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/sparql.cli/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/document.translator.cli/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/utils.cli/${project.version}</bundle>
    </feature>
    <feature name="mobi-web" description="Mobi Web Bundles" version="${project.version}">
        <feature prerequisite="true">mobi-core</feature>
        <bundle start-level="80">mvn:com.mobi/etl.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/ontology.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/swagger.ui/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/web/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/sparql.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/catalog.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/jaas.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/platform.config.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/dataset.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/web.security/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/explorable.dataset.rest/${project.version}</bundle>
        <bundle start-level="80">mvn:com.mobi/prov.rest/${project.version}</bundle>
    </feature>
</features>
